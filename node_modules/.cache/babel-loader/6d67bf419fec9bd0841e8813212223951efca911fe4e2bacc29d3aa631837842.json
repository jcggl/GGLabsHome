{"ast":null,"code":"import _objectSpread from\"/Users/magicmars123/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u1100\\u1169\\u11BC\\u1100\\u1161\\u11AB.nosync/GGlabsBuild/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/magicmars123/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u1100\\u1169\\u11BC\\u1100\\u1161\\u11AB.nosync/GGlabsBuild/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useRef,useEffect,useCallback}from\"react\";import useResize from'./useResize';var useAutoSlide=function useAutoSlide(imageSize){var _useResize=useResize(),windowWidth=_useResize.width;var imgSize=useRef(imageSize);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),current=_useState2[0],setCurrent=_useState2[1];var _useState3=useState({marginLeft:\"-\".concat(current,\"00%\"),transition:\"all 0.5s ease-out\"}),_useState4=_slicedToArray(_useState3,2),style=_useState4[0],setStyle=_useState4[1];var initialLogoHandler=useCallback(function(index){setCurrent(index);},[]);/**\n   * 윈도우 크기에 따라 화면에 보이는 파트너 갯수\n   */var contentsNumberChecker=useCallback(function(){if(1080>windowWidth)return 2;if(1080<=windowWidth&&1920>windowWidth)return 4;if(1920<=windowWidth)return 6;return 6;},[windowWidth]);var _useState5=useState({width:\"\".concat(windowWidth/contentsNumberChecker(),\"px\")}),_useState6=_slicedToArray(_useState5,2),contentWidth=_useState6[0],setContentWidth=_useState6[1];var moveSlide=function moveSlide(index){var nextIndex=current+index;if(current===imgSize.current/2)nextIndex=0;setCurrent(nextIndex);};useEffect(function(){setStyle(function(prev){return _objectSpread(_objectSpread({},prev),{},{marginLeft:\"-\".concat(current*(windowWidth/(contentsNumberChecker()*2)),\"px\")});});},[current,windowWidth,contentsNumberChecker]);useEffect(function(){setContentWidth(function(prev){return{width:\"\".concat(windowWidth/contentsNumberChecker(),\"px\")};});},[windowWidth,contentsNumberChecker]);//0.3초의 transition을 잠깐 없애고 양 끝이 아니라면 transition을 다시 적용.\nuseEffect(function(){if(current===imgSize.current/2){var timer=setTimeout(function(){setStyle(function(prev){return _objectSpread(_objectSpread({},prev),{},{transition:\"\"});});setCurrent(0);},500);return function(){return clearTimeout(timer);};}else if(current===0){var _timer=setTimeout(function(){setStyle(function(prev){return _objectSpread(_objectSpread({},prev),{},{transition:\"all 0.5s ease-out\"});});},100);return function(){return clearTimeout(_timer);};}},[current]);return{moveSlide:moveSlide,style:style,current:current,contentWidth:contentWidth,initialLogoHandler:initialLogoHandler};};export default useAutoSlide;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}