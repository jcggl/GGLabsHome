{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useEffect } from \"react\";\nimport { useRef } from \"react\";\nimport useResize from \"@/hooks/useResize\";\nimport { useRecoilState, useSetRecoilState } from \"recoil\";\nimport { intersectionState, mainAnimationState, subIntroState } from \"@/store/atoms\";\nconst useScrollAnimation = function () {\n  _s();\n  let duration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  let delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  const ref = useRef();\n  const {\n    height\n  } = useResize();\n  const [subIntroValue, setSubIntroValue] = useRecoilState(subIntroState);\n  const setIntersection = useSetRecoilState(intersectionState);\n  const setMainAnimation = useSetRecoilState(mainAnimationState);\n  const handleScroll = useCallback(_ref => {\n    let [entry] = _ref;\n    if (entry.isIntersecting) {\n      ref.current.children[1].children[0].style.transitionProperty = \"all\";\n      ref.current.children[0].children[0].style.transitionProperty = \"all\";\n      ref.current.children[0].children[1].children[0].style.transitionProperty = \"all\";\n      ref.current.children[1].children[0].style.transitionDuration = `${duration}s`;\n      ref.current.children[0].children[0].style.transitionDuration = `${duration}s`;\n      ref.current.children[0].children[1].children[0].style.transitionDuration = `${duration}s`;\n      ref.current.children[1].children[0].style.transitionTimingFunction = \"cubic-bezier(0, 0, 0.58, 1)\";\n      ref.current.children[0].children[0].style.transitionTimingFunction = \"cubic-bezier(0, 0, 0.58, 1)\";\n      ref.current.children[0].children[1].children[0].style.transitionTimingFunction = \"cubic-bezier(0, 0, 0.58, 1)\";\n      ref.current.children[1].children[0].style.transitionDelay = `${delay}s`;\n      ref.current.children[0].children[0].style.transitionDelay = `${delay}s`;\n      ref.current.children[0].children[1].children[0].style.transitionDelay = `${delay}s`;\n      if (ref.current.children[1].children[0].style.transform !== \"translate3d(0px, 0px, 0px)\") {\n        ref.current.children[1].children[0].style.transform = \"translate3d(0, -3vh, 0)\";\n        ref.current.children[0].children[0].style.transform = \"translate3d(0, -3vh, 0)\";\n        ref.current.children[0].children[1].children[0].style.transform = \"translate3d(20%, 0, 0)\";\n        setTimeout(() => {\n          ref.current.children[1].children[0].style.transform = \"translate3d(0, 0, 0)\";\n          ref.current.children[0].children[0].style.transform = \"translate3d(0, 0, 0)\";\n          ref.current.children[0].children[1].children[0].style.transform = \"translate3d(0, 0, 0)\";\n          setIntersection(false);\n          setMainAnimation(false);\n        }, 700);\n      }\n    } else if (!subIntroValue) {\n      ref.current.children[1].children[0].style.transform = \"translate3d(0, 100vh, 0)\";\n      ref.current.children[0].children[0].style.transform = \"translate3d(0, 100vh, 0)\";\n      ref.current.children[0].children[1].children[0].style.transform = \"translate3d(-300%, 100vh, 0)\";\n      setSubIntroValue(true);\n    }\n  }, [delay, duration, subIntroValue, setSubIntroValue, setIntersection, setMainAnimation]);\n  useEffect(() => {\n    let observer;\n    if (ref.current) {\n      observer = new IntersectionObserver(handleScroll, {\n        threshold: 0.15,\n        rootMargin: `0px 0px 0px 0px`\n      });\n      observer.observe(ref.current);\n    }\n    return () => observer && observer.disconnect();\n  }, [handleScroll, height]);\n  return {\n    ref,\n    textStyle: {\n      transform: \"translate3d(0, 40vh, 0)\"\n    },\n    imageStyle: {\n      transform: \"translate3d(-300%, 100%, 0)\"\n    }\n  };\n};\n_s(useScrollAnimation, \"JSqEi8+R+I7hg1uXej3CRrB8Muc=\", false, function () {\n  return [useResize, useRecoilState, useSetRecoilState, useSetRecoilState];\n});\nexport default useScrollAnimation;","map":{"version":3,"names":["useCallback","useEffect","useRef","useResize","useRecoilState","useSetRecoilState","intersectionState","mainAnimationState","subIntroState","useScrollAnimation","duration","delay","ref","height","subIntroValue","setSubIntroValue","setIntersection","setMainAnimation","handleScroll","entry","isIntersecting","current","children","style","transitionProperty","transitionDuration","transitionTimingFunction","transitionDelay","transform","setTimeout","observer","IntersectionObserver","threshold","rootMargin","observe","disconnect","textStyle","imageStyle"],"sources":["/Users/magicmars123/Desktop/작업공간.nosync/GGlabsBuild/src/hooks/useScrollAnimation.tsx"],"sourcesContent":["import { useCallback, useEffect } from \"react\";\nimport { useRef } from \"react\";\nimport useResize from \"@/hooks/useResize\";\nimport { useRecoilState, useSetRecoilState } from \"recoil\";\nimport { intersectionState, mainAnimationState, subIntroState } from \"@/store/atoms\";\n\nconst useScrollAnimation = (duration: number = 1, delay: number = 0) => {\n  const ref = useRef<any>();\n  const { height } = useResize();\n  const [subIntroValue, setSubIntroValue] = useRecoilState(subIntroState);\n  const setIntersection = useSetRecoilState(intersectionState);\n  const setMainAnimation = useSetRecoilState(mainAnimationState);\n\n  const handleScroll = useCallback(\n    ([entry]: any) => {\n      if (entry.isIntersecting) {\n        ref.current.children[1].children[0].style.transitionProperty = \"all\";\n        ref.current.children[0].children[0].style.transitionProperty = \"all\";\n        ref.current.children[0].children[1].children[0].style.transitionProperty =\n          \"all\";\n        ref.current.children[1].children[0].style.transitionDuration = `${duration}s`;\n        ref.current.children[0].children[0].style.transitionDuration = `${duration}s`;\n        ref.current.children[0].children[1].children[0].style.transitionDuration = `${duration}s`;\n        ref.current.children[1].children[0].style.transitionTimingFunction =\n          \"cubic-bezier(0, 0, 0.58, 1)\";\n        ref.current.children[0].children[0].style.transitionTimingFunction =\n          \"cubic-bezier(0, 0, 0.58, 1)\";\n        ref.current.children[0].children[1].children[0].style.transitionTimingFunction =\n          \"cubic-bezier(0, 0, 0.58, 1)\";\n        ref.current.children[1].children[0].style.transitionDelay = `${delay}s`;\n        ref.current.children[0].children[0].style.transitionDelay = `${delay}s`;\n        ref.current.children[0].children[1].children[0].style.transitionDelay = `${delay}s`;\n\n        if (\n          ref.current.children[1].children[0].style.transform !==\n          \"translate3d(0px, 0px, 0px)\"\n        ) {\n          ref.current.children[1].children[0].style.transform =\n            \"translate3d(0, -3vh, 0)\";\n          ref.current.children[0].children[0].style.transform =\n            \"translate3d(0, -3vh, 0)\";\n          ref.current.children[0].children[1].children[0].style.transform =\n            \"translate3d(20%, 0, 0)\";\n\n          setTimeout(() => {\n            ref.current.children[1].children[0].style.transform =\n              \"translate3d(0, 0, 0)\";\n            ref.current.children[0].children[0].style.transform =\n              \"translate3d(0, 0, 0)\";\n            ref.current.children[0].children[1].children[0].style.transform =\n              \"translate3d(0, 0, 0)\";\n            setIntersection(false);\n            setMainAnimation(false)\n          }, 700);\n        }\n      } else if (!subIntroValue) {\n        ref.current.children[1].children[0].style.transform =\n          \"translate3d(0, 100vh, 0)\";\n        ref.current.children[0].children[0].style.transform =\n          \"translate3d(0, 100vh, 0)\";\n        ref.current.children[0].children[1].children[0].style.transform =\n          \"translate3d(-300%, 100vh, 0)\";\n        setSubIntroValue(true);\n      }\n    },\n    [delay, duration, subIntroValue, setSubIntroValue, setIntersection, setMainAnimation]\n  );\n\n  useEffect(() => {\n    let observer: any;\n\n    if (ref.current) {\n      observer = new IntersectionObserver(handleScroll, {\n        threshold: 0.15,\n        rootMargin: `0px 0px 0px 0px`,\n      });\n      observer.observe(ref.current);\n    }\n\n    return () => observer && observer.disconnect();\n  }, [handleScroll, height]);\n\n  return {\n    ref,\n    textStyle: {\n      transform: \"translate3d(0, 40vh, 0)\",\n    },\n    imageStyle: {\n      transform: \"translate3d(-300%, 100%, 0)\",\n    },\n  };\n};\n\nexport default useScrollAnimation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}