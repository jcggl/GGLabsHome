{"ast":null,"code":"var _jsxFileName = \"/Users/magicmars123/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u1100\\u1169\\u11BC\\u1100\\u1161\\u11AB.nosync/GGlabsBuild/src/components/Product/Carousel/Carousel.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\nimport useMoveSlide from \"@/hooks/useMoveSlide\";\nimport { kikitownImageList } from \"@/constants/Images/kikitown-image-list\";\nimport arrowLeft from \"@/assets/common/arrow-left.svg\";\nimport arrowRight from \"@/assets/common/arrow-right.svg\";\nimport useInterval from \"@/hooks/useInterval\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Carousel = _ref => {\n  _s();\n  let {\n    imageList = kikitownImageList,\n    carouselSize = \"w-[clamp(300px,83.333vw,563px)] pad:w-[clamp(717.35px,66.421vw,1000px)] desktop:w-[clamp(1000px,52.083vw,1200px)] aspect-[1000/580]\",\n    hasDot = true,\n    intervalTime = 2812\n  } = _ref;\n  const images = useRef([imageList[imageList.length - 1], ...imageList, imageList[0]]);\n  const {\n    style,\n    current,\n    moveSlide\n  } = useMoveSlide(images.current.length);\n  const [touch, setTouch] = useState(null);\n  const [isSwiping, setIsSwiping] = useState(false);\n  const [throttle, setThrottle] = useState(false);\n  const [timer, setTimer] = useState();\n  const isSinglePicture = images.current.length <= 3;\n\n  /**\n   *터치를 시작한 지점을 저장하는 함수\n   */\n  const handleTouchStart = e => {\n    const currentTouch = e.touches[0].clientX;\n    setTouch(currentTouch);\n    setIsSwiping(true);\n  };\n\n  /**\n   *터치를 중단했을 때 X축을 10이상 움직이면 스와이프하는 함수\n   */\n  const handleTouchMove = e => {\n    const touchDown = touch;\n    if (throttle) return;\n    if (touchDown === null) return;\n    clearTimeout(timer);\n    setTimer(prev => setTimeout(() => {\n      setThrottle(false);\n    }, 600));\n    const currentTouch = e.touches[0].clientX;\n    const touchDirection = touchDown - currentTouch;\n    if (touchDirection > 4) {\n      moveSlide(1);\n    }\n    if (touchDirection < -4) {\n      moveSlide(-1);\n    }\n    setIsSwiping(false);\n    setThrottle(true);\n    setTouch(null);\n  };\n\n  // 자동 슬라이드\n  useInterval(() => {\n    moveSlide(1);\n  }, !isSwiping && !isSinglePicture && !throttle ? intervalTime : null);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-around\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"hidden pad:block pad:w-[clamp(15.19px,1.406vw,38px)] desktop:w-[clamp(25px,1.302vw,30px)] cursor-pointer\",\n          onClick: () => {\n            moveSlide(-1);\n          },\n          src: arrowLeft,\n          alt: \"ArrowLeft\",\n          loading: \"lazy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${carouselSize} overflow-hidden`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            style: style,\n            onTouchStart: handleTouchStart,\n            onTouchMove: handleTouchMove,\n            children: images.current.map((img, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n              className: `flex-none ${carouselSize} object-cover`,\n              src: img,\n              alt: \"\\uC2AC\\uB77C\\uC774\\uB4DC \\uC774\\uBBF8\\uC9C0\",\n              loading: \"lazy\"\n            }, `${img}${index}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex absolute bottom-[clamp(6px,1.667vw,19px)] pad:bottom-[clamp(19px,1.759vw,26px)] desktop:bottom-[clamp(26px,1.354vw,31.2px)]\",\n          children: imageList.length > 1 && hasDot && images.current.map((_, index) => {\n            const isCurrentPicture = index === current || index === 1 && current === images.current.length - 1 || index === images.current.length - 2 && current === 0 ? \"w-[clamp(4.2px,1.167vw,10px)] pad:w-[clamp(10px,0.926vw,15px)] desktop:w-[clamp(15px,0.781vw,18px)] aspect-square rounded-[100%] bg-white opacity-1\" : \"w-[clamp(4.2px,1.167vw,10px)] pad:w-[clamp(10px,0.926vw,15px)] desktop:w-[clamp(15px,0.781vw,18px)] aspect-square rounded-[100%] bg-black opacity-60\";\n            const skipMarginLeft = index !== 0 ? \"ml-[clamp(4px,1.111vw,10px)] pad:ml-[clamp(10px,0.926vw,15px)] desktop:ml-[clamp(15px,0.781vw,18px)]\" : \"\";\n            if (index === 0 || index === images.current.length - 1) return /*#__PURE__*/_jsxDEV(React.Fragment, {}, `CarouselImageKey${index}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 23\n            }, this);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: isCurrentPicture + \" \" + skipMarginLeft\n            }, `CarouselImageKey${index}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"hidden pad:block pad:w-[clamp(15.19px,1.406vw,38px)] desktop:w-[clamp(25px,1.302vw,30px)] cursor-pointer\",\n          onClick: () => {\n            moveSlide(1);\n          },\n          src: arrowRight,\n          alt: \"ArrowRight\",\n          loading: \"lazy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n_s(Carousel, \"H/TZ9Q1Je0lMfJTDjtjy/d9ewUI=\", false, function () {\n  return [useMoveSlide, useInterval];\n});\n_c = Carousel;\nexport default Carousel;\nvar _c;\n$RefreshReg$(_c, \"Carousel\");","map":{"version":3,"names":["React","useState","useRef","useMoveSlide","kikitownImageList","arrowLeft","arrowRight","useInterval","Carousel","imageList","carouselSize","hasDot","intervalTime","images","length","style","current","moveSlide","touch","setTouch","isSwiping","setIsSwiping","throttle","setThrottle","timer","setTimer","isSinglePicture","handleTouchStart","e","currentTouch","touches","clientX","handleTouchMove","touchDown","clearTimeout","prev","setTimeout","touchDirection","map","img","index","_","isCurrentPicture","skipMarginLeft"],"sources":["/Users/magicmars123/Desktop/작업공간.nosync/GGlabsBuild/src/components/Product/Carousel/Carousel.tsx"],"sourcesContent":["import React, { useState, useRef } from \"react\";\n\nimport useMoveSlide from \"@/hooks/useMoveSlide\";\nimport { kikitownImageList } from \"@/constants/Images/kikitown-image-list\";\nimport arrowLeft from \"@/assets/common/arrow-left.svg\";\nimport arrowRight from \"@/assets/common/arrow-right.svg\";\nimport useInterval from \"@/hooks/useInterval\";\n\ninterface Props {\n  imageList?: string[];\n  carouselSize?: string;\n  hasDot?:boolean;\n  intervalTime?:number;\n}\n\nconst Carousel = ({\n  imageList = kikitownImageList,\n  carouselSize = \"w-[clamp(300px,83.333vw,563px)] pad:w-[clamp(717.35px,66.421vw,1000px)] desktop:w-[clamp(1000px,52.083vw,1200px)] aspect-[1000/580]\",\n  hasDot = true,\n  intervalTime=2812,\n}: Props) => {\n  const images = useRef<string[]>([\n    imageList[imageList.length - 1],\n    ...imageList,\n    imageList[0],\n  ]);\n  const { style, current, moveSlide } = useMoveSlide(images.current.length);\n  const [touch, setTouch] = useState<number | null>(null);\n  const [isSwiping, setIsSwiping] = useState<boolean>(false);\n  const [throttle, setThrottle] = useState<boolean>(false);\n  const [timer, setTimer] = useState<any>();\n  const isSinglePicture = images.current.length <= 3;\n\n  /**\n   *터치를 시작한 지점을 저장하는 함수\n   */\n  const handleTouchStart = (e: React.TouchEvent<HTMLInputElement>): void => {\n    const currentTouch = e.touches[0].clientX;\n    setTouch(currentTouch);\n    setIsSwiping(true);\n  };\n\n  /**\n   *터치를 중단했을 때 X축을 10이상 움직이면 스와이프하는 함수\n   */\n  const handleTouchMove = (e: React.TouchEvent<HTMLInputElement>): void => {\n    const touchDown: number | null = touch;\n    if (throttle) return;\n    if (touchDown === null) return;\n    clearTimeout(timer);\n    setTimer((prev:any) =>\n      setTimeout(() => {\n        setThrottle(false);\n      }, 600)\n    );\n\n    const currentTouch = e.touches[0].clientX;\n    const touchDirection = touchDown - currentTouch;\n\n    if (touchDirection > 4) {\n      moveSlide(1);\n    }\n\n    if (touchDirection < -4) {\n      moveSlide(-1);\n    }\n\n    setIsSwiping(false);\n    setThrottle(true);\n    setTouch(null);\n  };\n\n  // 자동 슬라이드\n  useInterval(\n    () => {\n      moveSlide(1);\n    },\n    !isSwiping && !isSinglePicture && !throttle ? intervalTime : null\n  );\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"flex justify-around\">\n        <div className=\"flex items-center\">\n          <img\n            className=\"hidden pad:block pad:w-[clamp(15.19px,1.406vw,38px)] desktop:w-[clamp(25px,1.302vw,30px)] cursor-pointer\"\n            onClick={() => {\n              moveSlide(-1);\n            }}\n            src={arrowLeft}\n            alt=\"ArrowLeft\"\n            loading=\"lazy\"\n          />\n        </div>\n        <div className=\"relative flex justify-center\">\n          <div className={`${carouselSize} overflow-hidden`}>\n            <div\n              className=\"flex\"\n              style={style}\n              onTouchStart={handleTouchStart}\n              onTouchMove={handleTouchMove}\n            >\n              {images.current.map(\n                (img: string, index: number): JSX.Element => (\n                  <img\n                    key={`${img}${index}`}\n                    className={`flex-none ${carouselSize} object-cover`}\n                    src={img}\n                    alt=\"슬라이드 이미지\"\n                    loading=\"lazy\"\n                  />\n                )\n              )}\n            </div>\n          </div>\n          <div className=\"flex absolute bottom-[clamp(6px,1.667vw,19px)] pad:bottom-[clamp(19px,1.759vw,26px)] desktop:bottom-[clamp(26px,1.354vw,31.2px)]\">\n            {imageList.length > 1 &&\n              hasDot &&\n              images.current.map(\n                (_, index: number): JSX.Element | undefined => {\n                  const isCurrentPicture: string =\n                    index === current ||\n                    (index === 1 && current === images.current.length - 1) ||\n                    (index === images.current.length - 2 && current === 0)\n                      ? \"w-[clamp(4.2px,1.167vw,10px)] pad:w-[clamp(10px,0.926vw,15px)] desktop:w-[clamp(15px,0.781vw,18px)] aspect-square rounded-[100%] bg-white opacity-1\"\n                      : \"w-[clamp(4.2px,1.167vw,10px)] pad:w-[clamp(10px,0.926vw,15px)] desktop:w-[clamp(15px,0.781vw,18px)] aspect-square rounded-[100%] bg-black opacity-60\";\n                  const skipMarginLeft: string =\n                    index !== 0\n                      ? \"ml-[clamp(4px,1.111vw,10px)] pad:ml-[clamp(10px,0.926vw,15px)] desktop:ml-[clamp(15px,0.781vw,18px)]\"\n                      : \"\";\n                  if (index === 0 || index === images.current.length - 1)\n                    return (\n                      <React.Fragment\n                        key={`CarouselImageKey${index}`}\n                      ></React.Fragment>\n                    );\n                  return (\n                    <div\n                      key={`CarouselImageKey${index}`}\n                      className={isCurrentPicture + \" \" + skipMarginLeft}\n                    ></div>\n                  );\n                }\n              )}\n          </div>\n        </div>\n        <div className=\"flex items-center\">\n          <img\n            className=\"hidden pad:block pad:w-[clamp(15.19px,1.406vw,38px)] desktop:w-[clamp(25px,1.302vw,30px)] cursor-pointer\"\n            onClick={() => {\n              moveSlide(1);\n            }}\n            src={arrowRight}\n            alt=\"ArrowRight\"\n            loading=\"lazy\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Carousel;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}