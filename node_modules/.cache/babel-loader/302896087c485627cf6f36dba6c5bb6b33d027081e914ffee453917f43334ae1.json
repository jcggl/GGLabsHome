{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from \"react\";\nconst useHideOnScroll = () => {\n  _s();\n  //스크롤 중이면 setScroll을 true\n  //true일 때는 opacity를 0으로 바꿈. false일 경우 1초 setTimeout을 지정 후 false로\n  const [throttle, setThrottle] = useState(false);\n  const [scroll, setScroll] = useState(false);\n  // const [timer, setTimer] = useState<any>();\n  const [prevScrollY, setPrevScrollY] = useState(null);\n  const navbarOpacityGenerator = useCallback(() => {\n    setScroll(prev => false);\n  }, []);\n  const navbarOpacityRemover = useCallback(() => {\n    setScroll(prev => true);\n  }, []);\n  const onScrollHandler = useCallback(() => {\n    if (throttle) return;\n    setThrottle(prev => true);\n    if (!prevScrollY) return;\n    if (window.scrollY - prevScrollY > 3 && window.scrollY > 10) setScroll(prev => true);else if (window.scrollY - prevScrollY < -3) setScroll(prev => false);\n  }, [throttle, prevScrollY]);\n  useEffect(() => {\n    setPrevScrollY(prev => window.scrollY);\n    let throttleTimer = setTimeout(() => {\n      setThrottle(false);\n    }, 10);\n    window.addEventListener(\"scroll\", onScrollHandler);\n    return () => {\n      window.removeEventListener(\"scroll\", onScrollHandler);\n      clearTimeout(throttleTimer);\n    };\n  }, [throttle, scroll, onScrollHandler]);\n  return {\n    style: scroll ? {\n      opacity: 0,\n      transition: \".2s ease-out\"\n    } : {\n      opacity: 1\n    },\n    navbarOpacityGenerator,\n    navbarOpacityRemover\n  };\n};\n_s(useHideOnScroll, \"EJRH5Y6zzFkj+ZldBBhv1jzDNAM=\");\nexport default useHideOnScroll;","map":{"version":3,"names":["useState","useEffect","useCallback","useHideOnScroll","throttle","setThrottle","scroll","setScroll","prevScrollY","setPrevScrollY","navbarOpacityGenerator","prev","navbarOpacityRemover","onScrollHandler","window","scrollY","throttleTimer","setTimeout","addEventListener","removeEventListener","clearTimeout","style","opacity","transition"],"sources":["/Users/magicmars123/Desktop/작업공간.nosync/GGlabsBuild/src/hooks/useHideOnScroll.tsx"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\n\nconst useHideOnScroll = () => {\n  //스크롤 중이면 setScroll을 true\n  //true일 때는 opacity를 0으로 바꿈. false일 경우 1초 setTimeout을 지정 후 false로\n  const [throttle, setThrottle] = useState<boolean>(false);\n  const [scroll, setScroll] = useState<boolean>(false);\n  // const [timer, setTimer] = useState<any>();\n  const [prevScrollY, setPrevScrollY] = useState<number | null>(null);\n\n  const navbarOpacityGenerator = useCallback(() => {\n    setScroll((prev) => false);\n  }, []);\n\n  const navbarOpacityRemover = useCallback(() => {\n    setScroll((prev) => true);\n  }, []);\n\n  const onScrollHandler = useCallback(() => {\n    if (throttle) return;\n\n    setThrottle((prev) => true);\n    if (!prevScrollY) return;\n    if (window.scrollY - prevScrollY > 3 && window.scrollY > 10)\n      setScroll((prev) => true);\n    else if (window.scrollY - prevScrollY < -3) setScroll((prev) => false);\n  }, [throttle, prevScrollY]);\n\n  useEffect(() => {\n    setPrevScrollY((prev) => window.scrollY);\n\n    let throttleTimer = setTimeout(() => {\n      setThrottle(false);\n    }, 10);\n\n    window.addEventListener(\"scroll\", onScrollHandler);\n    return () => {\n      window.removeEventListener(\"scroll\", onScrollHandler);\n      clearTimeout(throttleTimer);\n    };\n  }, [throttle, scroll, onScrollHandler]);\n\n  return {\n    style: scroll ? { opacity: 0, transition: \".2s ease-out\" } : { opacity: 1 },\n    navbarOpacityGenerator,\n    navbarOpacityRemover,\n  };\n};\n\nexport default useHideOnScroll;\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAExD,MAAMC,eAAe,GAAG,MAAM;EAAA;EAC5B;EACA;EACA,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGL,QAAQ,CAAU,KAAK,CAAC;EACxD,MAAM,CAACM,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAU,KAAK,CAAC;EACpD;EACA,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAgB,IAAI,CAAC;EAEnE,MAAMU,sBAAsB,GAAGR,WAAW,CAAC,MAAM;IAC/CK,SAAS,CAAEI,IAAI,IAAK,KAAK,CAAC;EAC5B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,oBAAoB,GAAGV,WAAW,CAAC,MAAM;IAC7CK,SAAS,CAAEI,IAAI,IAAK,IAAI,CAAC;EAC3B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,eAAe,GAAGX,WAAW,CAAC,MAAM;IACxC,IAAIE,QAAQ,EAAE;IAEdC,WAAW,CAAEM,IAAI,IAAK,IAAI,CAAC;IAC3B,IAAI,CAACH,WAAW,EAAE;IAClB,IAAIM,MAAM,CAACC,OAAO,GAAGP,WAAW,GAAG,CAAC,IAAIM,MAAM,CAACC,OAAO,GAAG,EAAE,EACzDR,SAAS,CAAEI,IAAI,IAAK,IAAI,CAAC,CAAC,KACvB,IAAIG,MAAM,CAACC,OAAO,GAAGP,WAAW,GAAG,CAAC,CAAC,EAAED,SAAS,CAAEI,IAAI,IAAK,KAAK,CAAC;EACxE,CAAC,EAAE,CAACP,QAAQ,EAAEI,WAAW,CAAC,CAAC;EAE3BP,SAAS,CAAC,MAAM;IACdQ,cAAc,CAAEE,IAAI,IAAKG,MAAM,CAACC,OAAO,CAAC;IAExC,IAAIC,aAAa,GAAGC,UAAU,CAAC,MAAM;MACnCZ,WAAW,CAAC,KAAK,CAAC;IACpB,CAAC,EAAE,EAAE,CAAC;IAENS,MAAM,CAACI,gBAAgB,CAAC,QAAQ,EAAEL,eAAe,CAAC;IAClD,OAAO,MAAM;MACXC,MAAM,CAACK,mBAAmB,CAAC,QAAQ,EAAEN,eAAe,CAAC;MACrDO,YAAY,CAACJ,aAAa,CAAC;IAC7B,CAAC;EACH,CAAC,EAAE,CAACZ,QAAQ,EAAEE,MAAM,EAAEO,eAAe,CAAC,CAAC;EAEvC,OAAO;IACLQ,KAAK,EAAEf,MAAM,GAAG;MAAEgB,OAAO,EAAE,CAAC;MAAEC,UAAU,EAAE;IAAe,CAAC,GAAG;MAAED,OAAO,EAAE;IAAE,CAAC;IAC3EZ,sBAAsB;IACtBE;EACF,CAAC;AACH,CAAC;AAAC,GA7CIT,eAAe;AA+CrB,eAAeA,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}