{"ast":null,"code":"import _toConsumableArray from\"/Users/magicmars123/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u1100\\u1169\\u11BC\\u1100\\u1161\\u11AB.nosync/GGlabsBuild/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/magicmars123/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u1100\\u1169\\u11BC\\u1100\\u1161\\u11AB.nosync/GGlabsBuild/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import soundOn from\"@/assets/svg/product/sound-on.svg\";import soundOff from\"@/assets/svg/product/sound-off.svg\";import fullScreen from\"@/assets/svg/product/full-screen.svg\";import playButton from\"@/assets/svg/product/play-button.svg\";import pauseButton from\"@/assets/svg/product/pause-button.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductVideo=function ProductVideo(props){var videoRef=useRef();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isMuted=_useState2[0],setIsMuted=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isPlaying=_useState4[0],setIsPlaying=_useState4[1];var _useState5=useState(\"opacity-0\"),_useState6=_slicedToArray(_useState5,2),hover=_useState6[0],setHover=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),timer=_useState8[0],setTimer=_useState8[1];useEffect(function(){var handlePlay=function handlePlay(entries){entries.forEach(function(entry){if(entry.isIntersecting){if(isPlaying){videoRef.current.play();}else if(!isPlaying){videoRef.current.pause();}}});};var observer=new IntersectionObserver(handlePlay,{threshold:0.8,rootMargin:\"0px\"});if(videoRef.current)observer.observe(videoRef.current);return function(){return observer.disconnect();};},[videoRef,isPlaying]);// useEffect(() => {\n//   if (isPlaying) {\n//     videoRef.current.play();\n//   } else {\n//     videoRef.current.pause();\n//   }\n// }, [isPlaying]);\nvar onFullScreenHandler=function onFullScreenHandler(){var _videoRef$current;(_videoRef$current=videoRef.current)===null||_videoRef$current===void 0?void 0:_videoRef$current.requestFullscreen();};var toggleMute=function toggleMute(){setIsMuted(function(prev){return!prev;});};// const onEndedHandler = () => {\n//   if (videoRef.current.ended === true){\n//     videoRef.current.pause();\n//   }\n// }\nvar togglePlay=function togglePlay(){setIsPlaying(function(prev){return!prev;});timer.forEach(function(item){clearTimeout(item);});setTimer([]);setHover(\"opacity-100\");var t=setTimeout(function(){setHover(\"opacity-0\");},1000);setTimer(function(prev){return[].concat(_toConsumableArray(prev),[t]);});};var hoverVideo=function hoverVideo(){setHover(\"opacity-100\");};var unHoverVideo=function unHoverVideo(){setHover(function(){return!isPlaying?\"opacity-100\":\"opacity-0\";});};var moveMouseHandler=function moveMouseHandler(){timer.forEach(function(item){clearTimeout(item);});setTimer([]);setHover(\"opacity-100\");var t=setTimeout(function(){setHover(\"opacity-0\");},1000);setTimer(function(prev){return[].concat(_toConsumableArray(prev),[t]);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative mx-auto w-[clamp(300px,83.333vw,563px)] pad:w-[clamp(717.35px,66.421vw,1000px)] desktop:w-[clamp(1000px,52.083vw,1200px)] aspect-[1000/562.5] cursor-pointer\",children:[isMuted?/*#__PURE__*/_jsx(\"img\",{onClick:toggleMute,className:\"absolute w-[clamp(26px,7.222vw,39px)] pad:w-[clamp(40.8px,3.778vw,60px)] desktop:w-[clamp(60px,3.125vw,100vw)] bottom-[clamp(7.75px,2.153vw,20px)] pad:bottom-[clamp(20px,1.852vw,29.5px)] desktop:bottom-[clamp(29.5px,1.536vw,100vw)] left-[clamp(9px,2.5vw,21.76px)] pad:left-[clamp(21.76px,2.015vw,32px)] desktop:left-[clamp(32px,1.667vw,100vw)] hover:invert transition duration-[250ms] cursor-pointer z-[2] aspect-square\",src:soundOff,alt:\"\\uC74C\\uC18C\\uAC70\\uD574\\uC81C\"}):/*#__PURE__*/_jsx(\"img\",{onClick:toggleMute,className:\"absolute w-[clamp(26px,7.222vw,39px)] pad:w-[clamp(40.8px,3.778vw,60px)] desktop:w-[clamp(60px,3.125vw,100vw)] bottom-[clamp(7.75px,2.153vw,20px)] pad:bottom-[clamp(20px,1.852vw,29.5px)] desktop:bottom-[clamp(29.5px,1.536vw,100vw)] left-[clamp(9px,2.5vw,21.76px)] pad:left-[clamp(21.76px,2.015vw,32px)] desktop:left-[clamp(32px,1.667vw,100vw)] hover:invert transition duration-[250ms] cursor-pointer z-[2] aspect-square\",src:soundOn,alt:\"\\uC74C\\uC18C\\uAC70\"}),/*#__PURE__*/_jsx(\"img\",{onClick:onFullScreenHandler,className:\"absolute w-[clamp(26px,7.222vw,39px)] pad:w-[clamp(40.8px,3.778vw,60px)] desktop:w-[clamp(60px,3.125vw,100vw)] bottom-[clamp(7.75px,2.153vw,20px)] pad:bottom-[clamp(20px,1.852vw,29.5px)] desktop:bottom-[clamp(29.5px,1.536vw,100vw)] right-[clamp(9px,2.5vw,21.76px)] pad:right-[clamp(21.76px,2.015vw,32px)] desktop:right-[clamp(32px,1.667vw,100vw)] hover:invert transition duration-[250ms] cursor-pointer z-[2] aspect-square\",src:fullScreen,alt:\"\\uC804\\uCCB4\\uD654\\uBA74\"}),isPlaying?/*#__PURE__*/_jsx(\"img\",{onClick:togglePlay,onMouseEnter:hoverVideo,onMouseMove:moveMouseHandler,className:\"absolute w-[clamp(69px,19.167vw,90px)] pad:w-[clamp(81.6px,7.556vw,120px)] desktop:w-[clamp(120px,6.250vw,100vw)] top-[50%] left-[52%] translate-x-[-50%] translate-y-[-50%] z-[2] transition duration-[350ms] cursor-pointer \".concat(hover),src:pauseButton,alt:\"\\uC815\\uC9C0 \\uBC84\\uD2BC\"}):/*#__PURE__*/_jsx(\"img\",{onClick:togglePlay,className:\"absolute w-[clamp(69px,19.167vw,90px)] pad:w-[clamp(81.6px,7.556vw,120px)] desktop:w-[clamp(120px,6.250vw,100vw)] top-[50%] left-[52%] translate-x-[-50%] translate-y-[-50%] z-[2] transition duration-[350ms] cursor-pointer\",src:playButton,alt:\"\\uD50C\\uB808\\uC774 \\uBC84\\uD2BC\"}),/*#__PURE__*/_jsx(\"video\",{playsInline:true,onMouseEnter:hoverVideo,onMouseMove:moveMouseHandler,onMouseLeave:unHoverVideo,onClick:togglePlay,className:\"w-full h-full\",style:{clipPath:\"inset(1px 1px)\"},ref:videoRef,muted:isMuted,autoPlay:false,loop:true,controls:false// onEnded={}\n,children:/*#__PURE__*/_jsx(\"source\",{src:props.iosVideoSrc,type:\"video/mp4\"})})]});};export default ProductVideo;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}