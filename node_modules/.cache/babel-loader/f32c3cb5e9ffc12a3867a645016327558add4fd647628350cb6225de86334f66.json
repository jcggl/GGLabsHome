{"ast":null,"code":"import _objectSpread from\"/Users/magicmars123/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u1100\\u1169\\u11BC\\u1100\\u1161\\u11AB.nosync/GGlabsBuild/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/magicmars123/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u1100\\u1169\\u11BC\\u1100\\u1161\\u11AB.nosync/GGlabsBuild/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useRef,useEffect}from\"react\";var useMoveSlide=function useMoveSlide(imageSize){var imgSize=useRef(imageSize);var _useState=useState(1),_useState2=_slicedToArray(_useState,2),current=_useState2[0],setCurrent=_useState2[1];var _useState3=useState({marginLeft:\"-\".concat(current,\"00%\"),transition:\"all 0.3s ease-out\"}),_useState4=_slicedToArray(_useState3,2),style=_useState4[0],setStyle=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),throttle=_useState6[0],setThrottle=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),timer=_useState8[0],setTimer=_useState8[1];var moveSlide=function moveSlide(index){if(imageSize<=3)return;if(throttle)return;clearTimeout(timer);setTimer(setTimeout(function(){setThrottle(false);},600));var nextIndex=current+index;//앞 뒤로 복사된 크기에서 원본 사진 개수만큼 인덱스 이동\nif(nextIndex<0)nextIndex+=imgSize.current-1;else if(nextIndex>=imgSize.current)nextIndex-=imgSize.current-1;setThrottle(true);setCurrent(nextIndex);};useEffect(function(){setStyle(function(prev){return _objectSpread(_objectSpread({},prev),{},{marginLeft:\"-\".concat(current,\"00%\")});});},[current]);//0.3초의 transition을 잠깐 없애고 양 끝이 아니라면 transition을 다시 적용.\nuseEffect(function(){if(current===0){var _timer=setTimeout(function(){setCurrent(function(prev){return imgSize.current-2;});setStyle(function(prev){return _objectSpread(_objectSpread({},prev),{},{transition:\"\"});});},300);return function(){return clearTimeout(_timer);};}else if(current===imgSize.current-1){var _timer2=setTimeout(function(){setCurrent(function(prev){return 1;});setStyle(function(prev){return _objectSpread(_objectSpread({},prev),{},{transition:\"\"});});},300);return function(){return clearTimeout(_timer2);};}else if(current===1||current===imgSize.current-2){var _timer3=setTimeout(function(){setStyle(function(prev){return _objectSpread(_objectSpread({},prev),{},{transition:\"all 0.3s ease-out\"});});},100);return function(){return clearTimeout(_timer3);};}},[current]);return{moveSlide:moveSlide,style:style,current:current};};export default useMoveSlide;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}