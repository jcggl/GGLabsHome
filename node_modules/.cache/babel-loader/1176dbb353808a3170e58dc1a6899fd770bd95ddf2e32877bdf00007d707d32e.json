{"ast":null,"code":"import _toConsumableArray from\"/Users/magicmars123/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u1100\\u1169\\u11BC\\u1100\\u1161\\u11AB.nosync/GGlabsBuild/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/magicmars123/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u1100\\u1169\\u11BC\\u1100\\u1161\\u11AB.nosync/GGlabsBuild/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{partnerState,wallState}from\"@/store/atoms\";import{useRef,useCallback,useEffect,useState}from\"react\";import{useRecoilState}from\"recoil\";import useResize from\"./useResize\";var useCombineWall=function useCombineWall(){var duration=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var delay=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var ref=useRef();var _useRecoilState=useRecoilState(wallState),_useRecoilState2=_slicedToArray(_useRecoilState,2),wall=_useRecoilState2[0],setWall=_useRecoilState2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),time=_useState2[0],setTime=_useState2[1];var _useRecoilState3=useRecoilState(partnerState),_useRecoilState4=_slicedToArray(_useRecoilState3,2),partner=_useRecoilState4[0],setPartner=_useRecoilState4[1];var _useResize=useResize(),width=_useResize.width;var mobileWidth=width<1080?600:700;var handleScroll=useCallback(function(_ref){var _ref2=_slicedToArray(_ref,1),entry=_ref2[0];if(entry.isIntersecting){for(var i=0;i<4;i++){ref.current.children[i].style.transitionProperty=\"all\";ref.current.children[i].style.transitionDuration=\"\".concat(duration,\"s\");ref.current.children[i].style.transitionTimingFunction=\"ease-out\";ref.current.children[i].style.transitionDelay=\"\".concat(delay,\"s\");}if(ref.current.children[0].style.transform!==\"translate3d(0px, 0px, 0px)\"){ref.current.children[0].style.transform=\"translate3d(2vw, -1.4vw, 0)\";ref.current.children[1].style.transform=\"translate3d(2vw, -1.4vw, 0)\";ref.current.children[2].style.transform=\"translate3d(-0.7vw, -1.4vw, 0)\";ref.current.children[3].style.transform=\"translate3d(2vw, 1.4vw, 0)\";var t=setTimeout(function(){ref.current.children[0].style.transform=\"translate3d(0px, 0px, 0px)\";ref.current.children[1].style.transform=\"translate3d(0px, 0px, 0px)\";ref.current.children[2].style.transform=\"translate3d(0px, 0px, 0px)\";ref.current.children[3].style.transform=\"translate3d(0px, 0px, 0px)\";},mobileWidth+80);setPartner(false);setWall(true);setTime(function(prev){return[].concat(_toConsumableArray(prev),[t]);});}}else if(!wall&&ref.current.children[0].style.transform!==\"translate3d(0px, 40vw, 0px)\"){time.forEach(function(item){clearTimeout(item);});setTime([]);ref.current.children[0].style.transform=\"translate3d(0, 40vw, 0)\";ref.current.children[1].style.transform=\"translate3d(-40vw, 0, 0)\";ref.current.children[2].style.transform=\"translate3d(40vw, 0, 0)\";ref.current.children[3].style.transform=\"translate3d(-40vw, 0, 0)\";}},[duration,delay,wall,setWall,mobileWidth,time,setPartner]);useEffect(function(){var observer;if(ref.current){observer=new IntersectionObserver(handleScroll,{threshold:0.4,rootMargin:\"0px 0px 0px 0px\"});observer.observe(ref.current);}return function(){return observer&&observer.disconnect();};},[handleScroll]);return{ref:ref,bottomStyle:{transform:\"translate3d(0, 40vw, 0)\"},leftStyle:{transform:\"translate3d(-40vw, 0, 0)\"},rightStyle:{transform:\"translate3d(40vw, 0, 0)\"},topStyle:{transform:\"translate3d(-40vw, 0, 0)\"}};};export default useCombineWall;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}