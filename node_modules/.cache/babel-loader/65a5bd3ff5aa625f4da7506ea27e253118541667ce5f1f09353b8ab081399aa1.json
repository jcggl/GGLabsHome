{"ast":null,"code":"import _slicedToArray from\"/Users/magicmars123/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u1100\\u1169\\u11BC\\u1100\\u1161\\u11AB.nosync/GGlabsBuild/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useEffect}from\"react\";import{useRef}from\"react\";import useResize from\"@/hooks/useResize\";import{useRecoilState,useSetRecoilState}from\"recoil\";import{intersectionState,mainAnimationState,subIntroState}from\"@/store/atoms\";var useScrollAnimation=function useScrollAnimation(){var duration=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var delay=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var ref=useRef();var _useResize=useResize(),height=_useResize.height;var _useRecoilState=useRecoilState(subIntroState),_useRecoilState2=_slicedToArray(_useRecoilState,2),subIntroValue=_useRecoilState2[0],setSubIntroValue=_useRecoilState2[1];var setIntersection=useSetRecoilState(intersectionState);var setMainAnimation=useSetRecoilState(mainAnimationState);var handleScroll=useCallback(function(_ref){var _ref2=_slicedToArray(_ref,1),entry=_ref2[0];if(entry.isIntersecting){ref.current.children[1].children[0].style.transitionProperty=\"all\";ref.current.children[0].children[0].style.transitionProperty=\"all\";ref.current.children[0].children[1].children[0].style.transitionProperty=\"all\";ref.current.children[1].children[0].style.transitionDuration=\"\".concat(duration,\"s\");ref.current.children[0].children[0].style.transitionDuration=\"\".concat(duration,\"s\");ref.current.children[0].children[1].children[0].style.transitionDuration=\"\".concat(duration,\"s\");ref.current.children[1].children[0].style.transitionTimingFunction=\"cubic-bezier(0, 0, 0.58, 1)\";ref.current.children[0].children[0].style.transitionTimingFunction=\"cubic-bezier(0, 0, 0.58, 1)\";ref.current.children[0].children[1].children[0].style.transitionTimingFunction=\"cubic-bezier(0, 0, 0.58, 1)\";ref.current.children[1].children[0].style.transitionDelay=\"\".concat(delay,\"s\");ref.current.children[0].children[0].style.transitionDelay=\"\".concat(delay,\"s\");ref.current.children[0].children[1].children[0].style.transitionDelay=\"\".concat(delay,\"s\");if(ref.current.children[1].children[0].style.transform!==\"translate3d(0px, 0px, 0px)\"){ref.current.children[1].children[0].style.transform=\"translate3d(0, -3vh, 0)\";ref.current.children[0].children[0].style.transform=\"translate3d(0, -3vh, 0)\";ref.current.children[0].children[1].children[0].style.transform=\"translate3d(20%, 0, 0)\";setTimeout(function(){ref.current.children[1].children[0].style.transform=\"translate3d(0, 0, 0)\";ref.current.children[0].children[0].style.transform=\"translate3d(0, 0, 0)\";ref.current.children[0].children[1].children[0].style.transform=\"translate3d(0, 0, 0)\";setIntersection(false);setMainAnimation(false);},700);}}else if(!subIntroValue){ref.current.children[1].children[0].style.transform=\"translate3d(0, 100vh, 0)\";ref.current.children[0].children[0].style.transform=\"translate3d(0, 100vh, 0)\";ref.current.children[0].children[1].children[0].style.transform=\"translate3d(-300%, 100vh, 0)\";setSubIntroValue(true);}},[delay,duration,subIntroValue,setSubIntroValue,setIntersection,setMainAnimation]);useEffect(function(){var observer;if(ref.current){observer=new IntersectionObserver(handleScroll,{threshold:0.15,rootMargin:\"0px 0px 0px 0px\"});observer.observe(ref.current);}return function(){return observer&&observer.disconnect();};},[handleScroll,height]);return{ref:ref,textStyle:{transform:\"translate3d(0, 40vh, 0)\"},imageStyle:{transform:\"translate3d(-300%, 100%, 0)\"}};};export default useScrollAnimation;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}