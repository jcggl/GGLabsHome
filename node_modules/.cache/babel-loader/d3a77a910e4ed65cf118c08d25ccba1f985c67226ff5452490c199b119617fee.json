{"ast":null,"code":"import _slicedToArray from\"/Users/magicmars123/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u1100\\u1169\\u11BC\\u1100\\u1161\\u11AB.nosync/GGlabsBuild/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"/Users/magicmars123/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u1100\\u1169\\u11BC\\u1100\\u1161\\u11AB.nosync/GGlabsBuild/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React,{useState,useRef}from\"react\";import useMoveSlide from\"@/hooks/useMoveSlide\";import{kikitownImageList}from\"@/constants/Images/kikitown-image-list\";import arrowLeft from\"@/assets/common/arrow-left.svg\";import arrowRight from\"@/assets/common/arrow-right.svg\";import useInterval from\"@/hooks/useInterval\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Carousel=function Carousel(_ref){var _ref$imageList=_ref.imageList,imageList=_ref$imageList===void 0?kikitownImageList:_ref$imageList,_ref$carouselSize=_ref.carouselSize,carouselSize=_ref$carouselSize===void 0?\"w-[clamp(300px,83.333vw,563px)] pad:w-[clamp(717.35px,66.421vw,1000px)] desktop:w-[clamp(1000px,52.083vw,1200px)] aspect-[1000/580]\":_ref$carouselSize,_ref$hasDot=_ref.hasDot,hasDot=_ref$hasDot===void 0?true:_ref$hasDot,_ref$intervalTime=_ref.intervalTime,intervalTime=_ref$intervalTime===void 0?2812:_ref$intervalTime;var images=useRef([imageList[imageList.length-1]].concat(_toConsumableArray(imageList),[imageList[0]]));var _useMoveSlide=useMoveSlide(images.current.length),style=_useMoveSlide.style,current=_useMoveSlide.current,moveSlide=_useMoveSlide.moveSlide;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),touch=_useState2[0],setTouch=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSwiping=_useState4[0],setIsSwiping=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),throttle=_useState6[0],setThrottle=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),timer=_useState8[0],setTimer=_useState8[1];var isSinglePicture=images.current.length<=3;/**\n   *터치를 시작한 지점을 저장하는 함수\n   */var handleTouchStart=function handleTouchStart(e){var currentTouch=e.touches[0].clientX;setTouch(currentTouch);setIsSwiping(true);};/**\n   *터치를 중단했을 때 X축을 10이상 움직이면 스와이프하는 함수\n   */var handleTouchMove=function handleTouchMove(e){var touchDown=touch;if(throttle)return;if(touchDown===null)return;clearTimeout(timer);setTimer(function(prev){return setTimeout(function(){setThrottle(false);},600);});var currentTouch=e.touches[0].clientX;var touchDirection=touchDown-currentTouch;if(touchDirection>4){moveSlide(1);}if(touchDirection<-4){moveSlide(-1);}setIsSwiping(false);setThrottle(true);setTouch(null);};// 자동 슬라이드\nuseInterval(function(){moveSlide(1);},!isSwiping&&!isSinglePicture&&!throttle?intervalTime:null);return/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-around\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"img\",{className:\"hidden pad:block pad:w-[clamp(15.19px,1.406vw,38px)] desktop:w-[clamp(25px,1.302vw,30px)] cursor-pointer\",onClick:function onClick(){moveSlide(-1);},src:arrowLeft,alt:\"ArrowLeft\",loading:\"lazy\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(carouselSize,\" overflow-hidden\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex\",style:style,onTouchStart:handleTouchStart,onTouchMove:handleTouchMove,children:images.current.map(function(img,index){return/*#__PURE__*/_jsx(\"img\",{className:\"flex-none \".concat(carouselSize,\" object-cover\"),src:img,alt:\"\\uC2AC\\uB77C\\uC774\\uB4DC \\uC774\\uBBF8\\uC9C0\",loading:\"lazy\"},\"\".concat(img).concat(index));})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex absolute bottom-[clamp(6px,1.667vw,19px)] pad:bottom-[clamp(19px,1.759vw,26px)] desktop:bottom-[clamp(26px,1.354vw,31.2px)]\",children:imageList.length>1&&hasDot&&images.current.map(function(_,index){var isCurrentPicture=index===current||index===1&&current===images.current.length-1||index===images.current.length-2&&current===0?\"w-[clamp(4.2px,1.167vw,10px)] pad:w-[clamp(10px,0.926vw,15px)] desktop:w-[clamp(15px,0.781vw,18px)] aspect-square rounded-[100%] bg-white opacity-1\":\"w-[clamp(4.2px,1.167vw,10px)] pad:w-[clamp(10px,0.926vw,15px)] desktop:w-[clamp(15px,0.781vw,18px)] aspect-square rounded-[100%] bg-black opacity-60\";var skipMarginLeft=index!==0?\"ml-[clamp(4px,1.111vw,10px)] pad:ml-[clamp(10px,0.926vw,15px)] desktop:ml-[clamp(15px,0.781vw,18px)]\":\"\";if(index===0||index===images.current.length-1)return/*#__PURE__*/_jsx(React.Fragment,{},\"CarouselImageKey\".concat(index));return/*#__PURE__*/_jsx(\"div\",{className:isCurrentPicture+\" \"+skipMarginLeft},\"CarouselImageKey\".concat(index));})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"img\",{className:\"hidden pad:block pad:w-[clamp(15.19px,1.406vw,38px)] desktop:w-[clamp(25px,1.302vw,30px)] cursor-pointer\",onClick:function onClick(){moveSlide(1);},src:arrowRight,alt:\"ArrowRight\",loading:\"lazy\"})})]})});};export default Carousel;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}