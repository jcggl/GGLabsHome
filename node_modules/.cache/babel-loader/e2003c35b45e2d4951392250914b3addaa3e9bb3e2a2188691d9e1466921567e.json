{"ast":null,"code":"import _slicedToArray from\"/Users/magicmars123/Desktop/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8\\u1100\\u1169\\u11BC\\u1100\\u1161\\u11AB.nosync/GGlabsBuild/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{intersectionState,partnerState,subIntroState,wallState}from\"@/store/atoms\";import{useRef,useCallback,useEffect}from\"react\";import{useRecoilState,useSetRecoilState}from\"recoil\";var useIntersectAnimation=function useIntersectAnimation(){var duration=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var delay=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var ref=useRef();var setSubIntro=useSetRecoilState(subIntroState);var setPartner=useSetRecoilState(partnerState);var setWall=useSetRecoilState(wallState);var _useRecoilState=useRecoilState(intersectionState),_useRecoilState2=_slicedToArray(_useRecoilState,2),intersection=_useRecoilState2[0],setIntersection=_useRecoilState2[1];var handleScroll=useCallback(function(_ref){var _ref2=_slicedToArray(_ref,1),entry=_ref2[0];if(entry.isIntersecting){for(var i=0;i<4;i++){ref.current.children[i].style.transitionProperty=\"all\";ref.current.children[i].style.transitionDuration=// i % 2 ? `${duration}s` : `${duration * 1.5}s`;\n\"\".concat(duration,\"s\");ref.current.children[i].style.transitionTimingFunction=\"cubic-bezier(0, 0, 0.58, 1)\";ref.current.children[i].style.transitionDelay=\"\".concat(delay,\"s\");if(ref.current.children[4].style.transform!==\"translate3d(0px, 0px, 0px)\"){ref.current.children[i].style.transform=i%2?\"translateY(-5vh)\":\"translateY(-30vh)\";}}ref.current.children[4].style.transitionProperty=\"all\";ref.current.children[4].style.transitionDuration=\"\".concat(duration,\"s\");ref.current.children[4].style.transitionTimingFunction=\"cubic-bezier(0, 0, 0.58, 1)\";ref.current.children[4].style.transitionDelay=\"\".concat(delay,\"s\");if(ref.current.children[4].style.transform!==\"translate3d(0px, 0px, 0px)\"){ref.current.children[4].style.transform=\"translate3d(0,-5vh,0)\";setTimeout(function(){ref.current.children[0].style.transform=\"translateY(-20vh)\";ref.current.children[1].style.transform=\"translateY(0)\";ref.current.children[2].style.transform=\"translateY(-20vh)\";ref.current.children[3].style.transform=\"translateY(0)\";ref.current.children[4].style.transform=\"translate3d(0,0,0)\";setSubIntro(false);setPartner(false);setWall(false);},700);}}else if(!intersection){// for (let i=0; i < 5; i++) {\n//   ref.current.children[i].style.transitionDuration = `0s`;\n// }\nref.current.children[0].style.transform=\"translateY(278vh)\";ref.current.children[1].style.transform=\"translateY(224.8vh)\";ref.current.children[2].style.transform=\"translateY(207vh)\";ref.current.children[3].style.transform=\"translateY(120vh)\";ref.current.children[4].style.transform=\"translate3d(0px, 100vh, 0px)\";setIntersection(true);}},[delay,duration,setSubIntro,intersection,setIntersection,setPartner,setWall]);useEffect(function(){var observer;if(ref.current){observer=new IntersectionObserver(handleScroll,{threshold:0.2,rootMargin:\"0px 0px 0px 0px\"});observer.observe(ref.current);}return function(){return observer&&observer.disconnect();};},[handleScroll]);return{ref:ref,FirstStyle:{transform:\"translateY(278vh)\",willChange:\"transform\"},SecondStyle:{transform:\"translateY(224.8vh)\",willChange:\"transform\"},ThirdStyle:{transform:\"translateY(207vh)\",willChange:\"transform\"},FourthStyle:{transform:\"translateY(120vh)\",willChange:\"transform\"},textStyle:{transform:\"translate3d(0,100vh,0)\",willChange:\"transform\"}};};export default useIntersectAnimation;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}