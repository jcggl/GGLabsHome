{"ast":null,"code":"var _s = $RefreshSig$();\nimport { mainAnimationState, subIntroState } from \"@/store/atoms\";\nimport { useCallback, useEffect, useRef } from \"react\";\nimport { useRecoilState, useSetRecoilState } from \"recoil\";\nimport useResize from \"./useResize\";\nconst useMainAnimation = function () {\n  _s();\n  let duration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  let delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  const ref = useRef();\n  const {\n    height\n  } = useResize();\n  const setSubIntro = useSetRecoilState(subIntroState);\n  const [mainAnimation, setMainAnimation] = useRecoilState(mainAnimationState);\n  const handleScroll = useCallback(_ref => {\n    let [entry] = _ref;\n    if (entry.isIntersecting) {\n      ref.current.children[1].style.transitionProperty = \"all\";\n      ref.current.children[1].style.transitionDuration = `${duration}s`;\n      ref.current.children[1].style.transitionTimingFunction = \"ease-in-out\";\n      ref.current.children[1].style.transitionDelay = `${delay}s`;\n      for (let i = 0; i < 3; i++) {\n        ref.current.children[0].children[0].children[i].style.transitionProperty = \"all\";\n        ref.current.children[0].children[0].children[i].style.transitionDuration = `${duration}s`;\n        ref.current.children[0].children[0].children[i].style.transitionTimingFunction = \"ease-in-out\";\n        ref.current.children[0].children[0].children[i].style.transitionDelay = `${delay}s`;\n      }\n      if (ref.current.children[1].style.transform !== \"scale(1, 1)\") {\n        ref.current.children[1].style.transform = \"scale(1, 1)\";\n        ref.current.children[1].style.filter = \"blur(0px)\";\n        ref.current.children[0].children[0].children[0].style.transform = \"translateY(0px)\";\n        ref.current.children[0].children[0].children[1].style.transform = \"translateY(0px)\";\n        ref.current.children[0].children[0].children[2].style.transform = \"translateY(0px)\";\n        setTimeout(() => {\n          setSubIntro(false);\n        }, 600);\n      }\n    } else if (!mainAnimation) {\n      ref.current.children[1].style.transform = \"scale(2.5, 2.5)\";\n      ref.current.children[1].style.filter = \"blur(48px)\";\n      ref.current.children[0].children[0].children[0].style.transform = \"translateY(-20vh)\";\n      ref.current.children[0].children[0].children[1].style.transform = \"translateY(20vh)\";\n      ref.current.children[0].children[0].children[2].style.transform = \"translateY(20vh)\";\n      setMainAnimation(true);\n    }\n  }, [delay, duration, mainAnimation, setMainAnimation, setSubIntro]);\n  useEffect(() => {\n    let observer;\n    if (ref.current) {\n      observer = new IntersectionObserver(handleScroll, {\n        threshold: 0.2,\n        rootMargin: `0px 0px 0px 0px`\n      });\n      observer.observe(ref.current);\n    }\n    return () => observer && observer.disconnect();\n  }, [handleScroll, height]);\n  return {\n    ref,\n    mainStyle: {\n      transform: \"scale(2.5, 2.5)\",\n      filter: \"blur(48px)\"\n    },\n    slideDownStyle: {\n      transform: \"translateY(-20vh)\"\n    },\n    slideUpStyle: {\n      transform: \"translateY(20vh)\"\n    }\n  };\n};\n_s(useMainAnimation, \"HWmxOkFtG4331Jgw5aWZGFe5k3g=\", false, function () {\n  return [useResize, useSetRecoilState, useRecoilState];\n});\nexport default useMainAnimation;","map":{"version":3,"names":["mainAnimationState","subIntroState","useCallback","useEffect","useRef","useRecoilState","useSetRecoilState","useResize","useMainAnimation","duration","delay","ref","height","setSubIntro","mainAnimation","setMainAnimation","handleScroll","entry","isIntersecting","current","children","style","transitionProperty","transitionDuration","transitionTimingFunction","transitionDelay","i","transform","filter","setTimeout","observer","IntersectionObserver","threshold","rootMargin","observe","disconnect","mainStyle","slideDownStyle","slideUpStyle"],"sources":["/Users/magicmars123/Desktop/작업공간.nosync/GGlabsBuild/src/hooks/useMainAnimation.tsx"],"sourcesContent":["import { mainAnimationState, resetScrollState, subIntroState } from \"@/store/atoms\";\nimport React, { useCallback, useEffect, useRef } from \"react\";\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\nimport useResize from \"./useResize\";\n\nconst useMainAnimation = (\n  duration: number = 1,\n  delay: number = 0\n) => {\n  const ref = useRef<any>();\n  const { height } = useResize();\n  const setSubIntro = useSetRecoilState(subIntroState);\n  const [mainAnimation, setMainAnimation] = useRecoilState(mainAnimationState);\n\n  const handleScroll = useCallback(\n    ([entry]: any) => {\n      if (entry.isIntersecting) {\n        ref.current.children[1].style.transitionProperty = \"all\";\n        ref.current.children[1].style.transitionDuration = `${duration}s`;\n        ref.current.children[1].style.transitionTimingFunction = \"ease-in-out\";\n        ref.current.children[1].style.transitionDelay = `${delay}s`;\n        for (let i = 0; i < 3; i++) {\n          ref.current.children[0].children[0].children[\n            i\n          ].style.transitionProperty = \"all\";\n          ref.current.children[0].children[0].children[\n            i\n          ].style.transitionDuration = `${duration}s`;\n          ref.current.children[0].children[0].children[\n            i\n          ].style.transitionTimingFunction = \"ease-in-out\";\n          ref.current.children[0].children[0].children[\n            i\n          ].style.transitionDelay = `${delay}s`;\n        }\n\n        if (ref.current.children[1].style.transform !== \"scale(1, 1)\") {\n          ref.current.children[1].style.transform = \"scale(1, 1)\";\n          ref.current.children[1].style.filter = \"blur(0px)\";\n          ref.current.children[0].children[0].children[0].style.transform =\n            \"translateY(0px)\";\n          ref.current.children[0].children[0].children[1].style.transform =\n            \"translateY(0px)\";\n          ref.current.children[0].children[0].children[2].style.transform =\n            \"translateY(0px)\";\n          setTimeout(() => {\n            setSubIntro(false);\n          }, 600);\n        }\n        \n      } else if (!mainAnimation) {\n        ref.current.children[1].style.transform = \"scale(2.5, 2.5)\";\n        ref.current.children[1].style.filter = \"blur(48px)\";\n        ref.current.children[0].children[0].children[0].style.transform =\n          \"translateY(-20vh)\";\n        ref.current.children[0].children[0].children[1].style.transform =\n          \"translateY(20vh)\";\n        ref.current.children[0].children[0].children[2].style.transform =\n          \"translateY(20vh)\";\n        setMainAnimation(true);\n      }\n    },\n    [delay, duration, mainAnimation, setMainAnimation, setSubIntro]\n  );\n\n  useEffect(() => {\n    let observer: any;\n\n    if (ref.current) {\n      observer = new IntersectionObserver(handleScroll, {\n        threshold: 0.2,\n        rootMargin: `0px 0px 0px 0px`,\n      });\n      observer.observe(ref.current);\n    }\n\n    return () => observer && observer.disconnect();\n  }, [handleScroll, height]);\n\n  return {\n    ref,\n    mainStyle: {\n      transform: \"scale(2.5, 2.5)\",\n      filter: \"blur(48px)\",\n    },\n    slideDownStyle: {\n      transform: \"translateY(-20vh)\",\n    },\n    slideUpStyle: {\n      transform: \"translateY(20vh)\",\n    },\n  };\n};\n\nexport default useMainAnimation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}