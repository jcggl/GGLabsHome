{"ast":null,"code":"var _s = $RefreshSig$();\nimport { intersectionState, partnerState, subIntroState, wallState } from \"@/store/atoms\";\nimport { useRef, useCallback, useEffect } from \"react\";\nimport { useRecoilState, useSetRecoilState } from \"recoil\";\nconst useIntersectAnimation = function () {\n  _s();\n  let duration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  let delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  const ref = useRef();\n  const setSubIntro = useSetRecoilState(subIntroState);\n  const setPartner = useSetRecoilState(partnerState);\n  const setWall = useSetRecoilState(wallState);\n  const [intersection, setIntersection] = useRecoilState(intersectionState);\n  const handleScroll = useCallback(_ref => {\n    let [entry] = _ref;\n    if (entry.isIntersecting) {\n      for (let i = 0; i < 4; i++) {\n        ref.current.children[i].style.transitionProperty = \"all\";\n        ref.current.children[i].style.transitionDuration =\n        // i % 2 ? `${duration}s` : `${duration * 1.5}s`;\n        `${duration}s`;\n        ref.current.children[i].style.transitionTimingFunction = \"cubic-bezier(0, 0, 0.58, 1)\";\n        ref.current.children[i].style.transitionDelay = `${delay}s`;\n        if (ref.current.children[4].style.transform !== \"translate3d(0px, 0px, 0px)\") {\n          ref.current.children[i].style.transform = i % 2 ? \"translateY(-5vh)\" : \"translateY(-30vh)\";\n        }\n      }\n      ref.current.children[4].style.transitionProperty = \"all\";\n      ref.current.children[4].style.transitionDuration = `${duration}s`;\n      ref.current.children[4].style.transitionTimingFunction = \"cubic-bezier(0, 0, 0.58, 1)\";\n      ref.current.children[4].style.transitionDelay = `${delay}s`;\n      if (ref.current.children[4].style.transform !== \"translate3d(0px, 0px, 0px)\") {\n        ref.current.children[4].style.transform = \"translate3d(0,-5vh,0)\";\n        setTimeout(() => {\n          ref.current.children[0].style.transform = \"translateY(-20vh)\";\n          ref.current.children[1].style.transform = \"translateY(0)\";\n          ref.current.children[2].style.transform = \"translateY(-20vh)\";\n          ref.current.children[3].style.transform = \"translateY(0)\";\n          ref.current.children[4].style.transform = \"translate3d(0,0,0)\";\n          setSubIntro(false);\n          setPartner(false);\n          setWall(false);\n        }, 700);\n      }\n    } else if (!intersection) {\n      // for (let i=0; i < 5; i++) {\n      //   ref.current.children[i].style.transitionDuration = `0s`;\n      // }\n      ref.current.children[0].style.transform = \"translateY(278vh)\";\n      ref.current.children[1].style.transform = \"translateY(224.8vh)\";\n      ref.current.children[2].style.transform = \"translateY(207vh)\";\n      ref.current.children[3].style.transform = \"translateY(120vh)\";\n      ref.current.children[4].style.transform = \"translate3d(0px, 100vh, 0px)\";\n      setIntersection(true);\n    }\n  }, [delay, duration, setSubIntro, intersection, setIntersection, setPartner, setWall]);\n  useEffect(() => {\n    let observer;\n    if (ref.current) {\n      observer = new IntersectionObserver(handleScroll, {\n        threshold: 0.2,\n        rootMargin: \"0px 0px 0px 0px\"\n      });\n      observer.observe(ref.current);\n    }\n    return () => observer && observer.disconnect();\n  }, [handleScroll]);\n  return {\n    ref,\n    FirstStyle: {\n      transform: \"translateY(278vh)\",\n      willChange: \"transform\"\n    },\n    SecondStyle: {\n      transform: \"translateY(224.8vh)\",\n      willChange: \"transform\"\n    },\n    ThirdStyle: {\n      transform: \"translateY(207vh)\",\n      willChange: \"transform\"\n    },\n    FourthStyle: {\n      transform: \"translateY(120vh)\",\n      willChange: \"transform\"\n    },\n    textStyle: {\n      transform: \"translate3d(0,100vh,0)\",\n      willChange: \"transform\"\n    }\n  };\n};\n_s(useIntersectAnimation, \"JZAmCKVns58Bj2qIgNg3KOoi7a8=\", false, function () {\n  return [useSetRecoilState, useSetRecoilState, useSetRecoilState, useRecoilState];\n});\nexport default useIntersectAnimation;","map":{"version":3,"names":["intersectionState","partnerState","subIntroState","wallState","useRef","useCallback","useEffect","useRecoilState","useSetRecoilState","useIntersectAnimation","duration","delay","ref","setSubIntro","setPartner","setWall","intersection","setIntersection","handleScroll","entry","isIntersecting","i","current","children","style","transitionProperty","transitionDuration","transitionTimingFunction","transitionDelay","transform","setTimeout","observer","IntersectionObserver","threshold","rootMargin","observe","disconnect","FirstStyle","willChange","SecondStyle","ThirdStyle","FourthStyle","textStyle"],"sources":["/Users/magicmars123/Desktop/작업공간.nosync/GGlabsBuild/src/hooks/useIntersectAnimation.tsx"],"sourcesContent":["import { intersectionState, partnerState, subIntroState, wallState } from \"@/store/atoms\";\nimport { useRef, useCallback, useEffect } from \"react\";\nimport { useRecoilState, useSetRecoilState } from \"recoil\";\n\nconst useIntersectAnimation = (duration: number = 1, delay: number = 0) => {\n  const ref = useRef<any>();\n  const setSubIntro = useSetRecoilState(subIntroState);\n  const setPartner = useSetRecoilState(partnerState);\n  const setWall = useSetRecoilState(wallState);\n\n  const [intersection, setIntersection] = useRecoilState(intersectionState);\n\n  const handleScroll = useCallback(\n    ([entry]: any) => {\n      if (entry.isIntersecting) {\n        for (let i = 0; i < 4; i++) {\n          ref.current.children[i].style.transitionProperty = \"all\";\n          ref.current.children[i].style.transitionDuration =\n            // i % 2 ? `${duration}s` : `${duration * 1.5}s`;\n            `${duration}s`;\n          ref.current.children[i].style.transitionTimingFunction =\n            \"cubic-bezier(0, 0, 0.58, 1)\";\n          ref.current.children[i].style.transitionDelay = `${delay}s`;\n          if (\n            ref.current.children[4].style.transform !==\n            \"translate3d(0px, 0px, 0px)\"\n          ) {\n            ref.current.children[i].style.transform =\n              i % 2 ? \"translateY(-5vh)\" : \"translateY(-30vh)\";\n          }\n        }\n\n        ref.current.children[4].style.transitionProperty = \"all\";\n        ref.current.children[4].style.transitionDuration = `${duration}s`;\n        ref.current.children[4].style.transitionTimingFunction =\n          \"cubic-bezier(0, 0, 0.58, 1)\";\n        ref.current.children[4].style.transitionDelay = `${delay}s`;\n        if (\n          ref.current.children[4].style.transform !==\n          \"translate3d(0px, 0px, 0px)\"\n        ) {\n          ref.current.children[4].style.transform = \"translate3d(0,-5vh,0)\";\n          setTimeout(() => {\n            ref.current.children[0].style.transform = \"translateY(-20vh)\";\n            ref.current.children[1].style.transform = \"translateY(0)\";\n            ref.current.children[2].style.transform = \"translateY(-20vh)\";\n            ref.current.children[3].style.transform = \"translateY(0)\";\n            ref.current.children[4].style.transform = \"translate3d(0,0,0)\";\n            setSubIntro(false);\n            setPartner(false);\n            setWall(false)\n          }, 700);\n        }\n      } else if (!intersection) {\n        // for (let i=0; i < 5; i++) {\n        //   ref.current.children[i].style.transitionDuration = `0s`;\n        // }\n        ref.current.children[0].style.transform = \"translateY(278vh)\";\n        ref.current.children[1].style.transform = \"translateY(224.8vh)\";\n        ref.current.children[2].style.transform = \"translateY(207vh)\";\n        ref.current.children[3].style.transform = \"translateY(120vh)\";\n        ref.current.children[4].style.transform =\n          \"translate3d(0px, 100vh, 0px)\";\n        setIntersection(true);\n      }\n    },\n    [delay, duration, setSubIntro, intersection, setIntersection, setPartner, setWall]\n  );\n\n  useEffect(() => {\n    let observer: any;\n\n    if (ref.current) {\n      observer = new IntersectionObserver(handleScroll, {\n        threshold: 0.2,\n        rootMargin: \"0px 0px 0px 0px\",\n      });\n      observer.observe(ref.current);\n    }\n\n    return () => observer && observer.disconnect();\n  }, [handleScroll]);\n\n  return {\n    ref,\n    FirstStyle: {\n      transform: \"translateY(278vh)\",\n      willChange: \"transform\",\n    },\n    SecondStyle: {\n      transform: \"translateY(224.8vh)\",\n      willChange: \"transform\",\n    },\n    ThirdStyle: {\n      transform: \"translateY(207vh)\",\n      willChange: \"transform\",\n    },\n    FourthStyle: {\n      transform: \"translateY(120vh)\",\n      willChange: \"transform\",\n    },\n    textStyle: {\n      transform: \"translate3d(0,100vh,0)\",\n      willChange: \"transform\",\n    },\n  };\n};\n\nexport default useIntersectAnimation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}