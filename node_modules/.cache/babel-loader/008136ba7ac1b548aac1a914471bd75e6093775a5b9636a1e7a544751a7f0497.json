{"ast":null,"code":"var _s = $RefreshSig$();\nimport { partnerState, wallState } from \"@/store/atoms\";\nimport { useRef, useCallback, useEffect, useState } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport useResize from \"./useResize\";\nconst useCombineWall = function () {\n  _s();\n  let duration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  let delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  const ref = useRef();\n  const [wall, setWall] = useRecoilState(wallState);\n  const [time, setTime] = useState([]);\n  const [partner, setPartner] = useRecoilState(partnerState);\n  const {\n    width\n  } = useResize();\n  const mobileWidth = width < 1080 ? 600 : 700;\n  const handleScroll = useCallback(_ref => {\n    let [entry] = _ref;\n    if (entry.isIntersecting) {\n      for (let i = 0; i < 4; i++) {\n        ref.current.children[i].style.transitionProperty = \"all\";\n        ref.current.children[i].style.transitionDuration = `${duration}s`;\n        ref.current.children[i].style.transitionTimingFunction = \"ease-out\";\n        ref.current.children[i].style.transitionDelay = `${delay}s`;\n      }\n      if (ref.current.children[0].style.transform !== \"translate3d(0px, 0px, 0px)\") {\n        ref.current.children[0].style.transform = \"translate3d(2vw, -1.4vw, 0)\";\n        ref.current.children[1].style.transform = \"translate3d(2vw, -1.4vw, 0)\";\n        ref.current.children[2].style.transform = \"translate3d(-0.7vw, -1.4vw, 0)\";\n        ref.current.children[3].style.transform = \"translate3d(2vw, 1.4vw, 0)\";\n        let t = setTimeout(() => {\n          ref.current.children[0].style.transform = \"translate3d(0px, 0px, 0px)\";\n          ref.current.children[1].style.transform = \"translate3d(0px, 0px, 0px)\";\n          ref.current.children[2].style.transform = \"translate3d(0px, 0px, 0px)\";\n          ref.current.children[3].style.transform = \"translate3d(0px, 0px, 0px)\";\n        }, mobileWidth + 80);\n        setPartner(false);\n        setWall(true);\n        setTime(prev => [...prev, t]);\n      }\n    } else if (!wall && ref.current.children[0].style.transform !== \"translate3d(0px, 40vw, 0px)\") {\n      time.forEach(item => {\n        clearTimeout(item);\n      });\n      setTime([]);\n      ref.current.children[0].style.transform = \"translate3d(0, 40vw, 0)\";\n      ref.current.children[1].style.transform = \"translate3d(-40vw, 0, 0)\";\n      ref.current.children[2].style.transform = \"translate3d(40vw, 0, 0)\";\n      ref.current.children[3].style.transform = \"translate3d(-40vw, 0, 0)\";\n    }\n  }, [duration, delay, wall, setWall, mobileWidth, time, setPartner]);\n  useEffect(() => {\n    let observer;\n    if (ref.current) {\n      observer = new IntersectionObserver(handleScroll, {\n        threshold: 0.4,\n        rootMargin: \"0px 0px 0px 0px\"\n      });\n      observer.observe(ref.current);\n    }\n    return () => observer && observer.disconnect();\n  }, [handleScroll]);\n  return {\n    ref,\n    bottomStyle: {\n      transform: \"translate3d(0, 40vw, 0)\"\n    },\n    leftStyle: {\n      transform: \"translate3d(-40vw, 0, 0)\"\n    },\n    rightStyle: {\n      transform: \"translate3d(40vw, 0, 0)\"\n    },\n    topStyle: {\n      transform: \"translate3d(-40vw, 0, 0)\"\n    }\n  };\n};\n_s(useCombineWall, \"Bx6b/oVIzpzjjSRMxb+KVbjTJbQ=\", false, function () {\n  return [useRecoilState, useRecoilState, useResize];\n});\nexport default useCombineWall;","map":{"version":3,"names":["partnerState","wallState","useRef","useCallback","useEffect","useState","useRecoilState","useResize","useCombineWall","duration","delay","ref","wall","setWall","time","setTime","partner","setPartner","width","mobileWidth","handleScroll","entry","isIntersecting","i","current","children","style","transitionProperty","transitionDuration","transitionTimingFunction","transitionDelay","transform","t","setTimeout","prev","forEach","item","clearTimeout","observer","IntersectionObserver","threshold","rootMargin","observe","disconnect","bottomStyle","leftStyle","rightStyle","topStyle"],"sources":["/Users/magicmars123/Desktop/작업공간.nosync/GGlabsBuild/src/hooks/useCombineWall.tsx"],"sourcesContent":["import { partnerState, wallState } from \"@/store/atoms\";\nimport { useRef, useCallback, useEffect, useState } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport useResize from \"./useResize\";\n\nconst useCombineWall = (duration: number = 1, delay: number = 0) => {\n  const ref = useRef<any>();\n  const [wall, setWall] = useRecoilState(wallState);\n  const [time, setTime] = useState<any>([]);\n  const [partner, setPartner] = useRecoilState(partnerState);\n  const { width } = useResize();\n\n  const mobileWidth = width < 1080 ? 600 : 700;\n\n  const handleScroll = useCallback(\n    ([entry]: any) => {\n      if (entry.isIntersecting) {\n        for (let i = 0; i < 4; i++) {\n          ref.current.children[i].style.transitionProperty = \"all\";\n          ref.current.children[i].style.transitionDuration = `${duration}s`;\n          ref.current.children[i].style.transitionTimingFunction =\n            \"ease-out\";\n          ref.current.children[i].style.transitionDelay = `${delay}s`;\n        }\n\n        if (\n          ref.current.children[0].style.transform !==\n          \"translate3d(0px, 0px, 0px)\"\n        ) {\n          ref.current.children[0].style.transform = \"translate3d(2vw, -1.4vw, 0)\";\n          ref.current.children[1].style.transform =\n            \"translate3d(2vw, -1.4vw, 0)\";\n          ref.current.children[2].style.transform =\n            \"translate3d(-0.7vw, -1.4vw, 0)\";\n          ref.current.children[3].style.transform = \"translate3d(2vw, 1.4vw, 0)\";\n          let t = setTimeout(() => {\n            ref.current.children[0].style.transform =\n              \"translate3d(0px, 0px, 0px)\";\n            ref.current.children[1].style.transform =\n              \"translate3d(0px, 0px, 0px)\";\n            ref.current.children[2].style.transform =\n              \"translate3d(0px, 0px, 0px)\";\n            ref.current.children[3].style.transform =\n              \"translate3d(0px, 0px, 0px)\";\n          }, mobileWidth + 80);\n          setPartner(false);\n          setWall(true)\n          setTime((prev: any) => [...prev, t]);\n        }\n      } else if (\n        !wall &&\n        ref.current.children[0].style.transform !== \"translate3d(0px, 40vw, 0px)\"\n      ) {\n        time.forEach((item: any) => {\n          clearTimeout(item);\n        });\n        setTime([]);\n        ref.current.children[0].style.transform = \"translate3d(0, 40vw, 0)\";\n        ref.current.children[1].style.transform = \"translate3d(-40vw, 0, 0)\";\n        ref.current.children[2].style.transform = \"translate3d(40vw, 0, 0)\";\n        ref.current.children[3].style.transform = \"translate3d(-40vw, 0, 0)\";\n      } \n    },\n    [duration, delay, wall, setWall, mobileWidth, time, setPartner]\n  );\n\n  useEffect(() => {\n    let observer: any;\n\n    if (ref.current) {\n      observer = new IntersectionObserver(handleScroll, {\n        threshold: 0.4,\n        rootMargin: \"0px 0px 0px 0px\",\n      });\n      observer.observe(ref.current);\n    }\n\n    return () => observer && observer.disconnect();\n  }, [handleScroll]);\n\n  return {\n    ref,\n    bottomStyle: {\n      transform: \"translate3d(0, 40vw, 0)\",\n    },\n    leftStyle: {\n      transform: \"translate3d(-40vw, 0, 0)\",\n    },\n    rightStyle: {\n      transform: \"translate3d(40vw, 0, 0)\",\n    },\n    topStyle: {\n      transform: \"translate3d(-40vw, 0, 0)\",\n    },\n  };\n};\n\nexport default useCombineWall;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}